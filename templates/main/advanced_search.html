{% extends 'base.html' %}
{% load static %}
{% block content %}
<h1>Advanced Search</h1>
<form method="get">
    <label for="genre">Genre:</label>
    <select name="genre" id="genre">
        <option value="">-- All Genres --</option>
        {% for genre in genres %}
            <option value="{{ genre.genre_name }}">{{ genre.genre_name }}</option>
        {% endfor %}
    </select>

    <label for="rating"> Rating:</label>
    <select name="rating" class="form-select">
        <option value="">All Ratings</option>
        <option value="9">Above 9</option>
        <option value="8">Above 8</option>
        <option value="7">Above 7</option>
        <option value="6">Above 6</option>
        <option value="5">Above 5</option>
        <option value="4">Below 5</option>
    </select>

    <select name="sort_by" class="form-select">
        <option value="">Sort By</option>
        <option value="newest">Newest</option>
        <option value="popular">Most Popular</option>
        <option value="release_year">Release Year</option>
    </select>
    
    <button type="submit">Search</button>
</form>

    <!-- نمایش نتایج جستجو -->
    {% if movies %}
        <h2>Results:</h2>
        <ul>
            {% for movie in movies %}
                <li>
                    <a href="{% url 'movie_detail' movie.id %}">{{ movie.title }}</a> - Rating: {{ movie.overall_rating }}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No movies found.</p>
    {% endif %}
{% endblock %}
