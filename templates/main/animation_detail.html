{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="animation-detail" style="background-image: url('{{ animation.get_poster }}'); background-size: cover; background-position: center; padding: 20px;">
    <div class="animation-info" style="background-color: rgba(0, 0, 0, 0.7); padding: 20px; border-radius: 10px;">
        <h1 style="color: white;">{{ animation.title }}</h1>
        <img src="{{ animation.get_poster }}" alt="{{ animation.title }} poster" style="width: 200px; height: auto; border: 2px solid white;">
        <form action="{% url 'add_to_watchlist' animation.id %}" method="post">
            {% csrf_token %}
            <button type="submit" class="btn btn-primary">Add to Watchlist</button>
        </form>
        <p style="color: white;"><strong>Release Date:</strong> {{ animation.release_date }}</p>
        <p style="color: white;">Rating:</strong> {{ animation.overall_rating }} /10</p>
        <p style="color: white;"><strong>Genres:</strong>
            {% for genre in genres %}
                {{ genre.genre_name }}{% if not forloop.last %}, {% endif %}
            {% empty %}
                No genres available.
            {% endfor %}
        </p>
        <p style="color: white;">Age Rating:</strong> {{ animation.age_rating.name }}</p>
        <p style="color: white;">Duration:</strong> {{ animation.duration }} minutes</p>
        <p style="color: white;">Description:</strong> {{ animation.description }}</p>
        <p style="color: white;">Language:</strong> {{ animation.language }}</p>
        <p style="color: white;">Country:</strong> {{ animation.country }}</p>
        <p style="color: white;"><strong>Directors:</strong> 
            {% for director in animation.directors.all %}
                {{ director.name }}{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </p>
        <p style="color: white;"><strong>Stars:</strong> 
            {% for star in animation.stars.all %}
                {{ star.name }}{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </p>
        
        <p style="color: white;">Views:</strong> {{ animation.view_count }}</p>
        <a href="{% url 'animation_list' %}">Back to Animation List</a>
    </div>
</div>
{% endblock %}
